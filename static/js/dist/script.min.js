"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}document.addEventListener("DOMContentLoaded",function(){var t=document.createElement("script");t.src="https://cdn.jsdelivr.net/npm/chart.js",t.onload=function(){initApp()},document.head.appendChild(t)});var planetsData=[];function initApp(){fetch("/api/planets").then(function(t){return t.json()}).then(function(t){initPlanetSelect(planetsData=t),createRadiusChart(t),createFluxTempChart(t),document.getElementById("compare-btn").addEventListener("click",function(){var t=getSelectedPlanets();0<t.length?createComparisonChart(t):alert("Please select at least one planet")})}).catch(function(t){console.error("Error loading data:",t),document.getElementById("radius-chart").innerHTML='<p class="error">Error loading planet data</p>'})}function initPlanetSelect(t){var a=document.getElementById("planet-select");t.forEach(function(t){var e=document.createElement("option");e.value=t.Object,e.textContent="".concat(t.Object," (").concat(t["Star type"],")"),a.appendChild(e)})}function getSelectedPlanets(){return Array.from(document.getElementById("planet-select").selectedOptions).map(function(t){return t.value})}function createRadiusChart(t){var e=document.getElementById("radius-chart").getContext("2d"),a=_toConsumableArray(t).sort(function(t,e){return e["Radius (R⊕)"]-t["Radius (R⊕)"]});new Chart(e,{type:"bar",data:{labels:a.map(function(t){return t.Object}),datasets:[{label:"Radius (Earth Radii)",data:a.map(function(t){return t["Radius (R⊕)"]}),backgroundColor:a.map(function(t){return getColorForStarType(t["Star type"])}),borderColor:a.map(function(t){return getColorForStarType(t["Star type"],.8)}),borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Radius of Exoplanets (Earth Radii)",font:{size:16}},legend:{display:!1},tooltip:{callbacks:{label:function(t){return"".concat(t.parsed.y," R⊕ (").concat(t.label,")")}}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Radius (Earth Radii)",font:{size:14}},ticks:{font:{size:12}}},x:{ticks:{font:{size:10},callback:function(t){return 15<this.getLabelForValue(t).length?this.getLabelForValue(t).substring(0,15)+"...":this.getLabelForValue(t)}}}},barPercentage:.8,categoryPercentage:.9}})}function createFluxTempChart(t){var e=document.getElementById("flux-chart").getContext("2d");new Chart(e,{type:"scatter",data:{datasets:[{label:"Exoplanets",data:t.map(function(t){return{x:t["Teq (K)"],y:t["Flux (F⊕)"],r:2*Math.sqrt(t["Radius (R⊕)"]),name:t.Object}}),backgroundColor:t.map(function(t){return t.Note&&t.Note.includes("habitable")?"#4CAF50":"#2196F3"}),borderColor:"#fff",borderWidth:1}]},options:{responsive:!0,plugins:{title:{display:!0,text:"Flux vs Temperature with Habitability"},tooltip:{callbacks:{label:function(t){return"".concat(t.raw.name,": ").concat(t.raw.y,"F⊕, ").concat(t.raw.x,"K")}}}},scales:{x:{title:{display:!0,text:"Temperature (K)"}},y:{type:"logarithmic",title:{display:!0,text:"Flux (Earth Flux)"}}}}})}function createComparisonChart(e){var t=document.getElementById("comparison-chart");window.comparisonChart&&window.comparisonChart.destroy();var a=planetsData.filter(function(t){return e.includes(t.Object)}),n=["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40","#8AC24A","#EA80FC"],r=a.map(function(t,e){return{label:t.Object,data:[t["Mass (M⊕)"],t["Radius (R⊕)"],t["Flux (F⊕)"],t["Teq (K)"],t["Distance (ly)"]],backgroundColor:n[e%n.length]+"33",borderColor:n[e%n.length],borderWidth:2,pointBackgroundColor:n[e%n.length],pointRadius:4,pointHoverRadius:6}});window.comparisonChart=new Chart(t,{type:"radar",data:{labels:["Mass (M⊕)","Radius (R⊕)","Flux (F⊕)","Temperature (K)","Distance (ly)"],datasets:r},options:{responsive:!0,plugins:{title:{display:!0,text:"Planet Characteristics Comparison",font:{size:16}},legend:{position:"right",labels:{font:{size:12},padding:20}},tooltip:{callbacks:{label:function(t){return"".concat(t.dataset.label,": ").concat(t.raw)}}}},scales:{r:{angleLines:{display:!0},suggestedMin:0,ticks:{font:{size:11}}}},elements:{line:{tension:.1}}}})}function getColorForStarType(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,a={G:"rgba(255, 206, 86, ".concat(e,")"),K:"rgba(255, 159, 64, ".concat(e,")"),M:"rgba(255, 99, 132, ".concat(e,")"),F:"rgba(54, 162, 235, ".concat(e,")"),A:"rgba(153, 102, 255, ".concat(e,")"),B:"rgba(75, 192, 192, ".concat(e,")")};for(var n in a)if(t.includes(n))return a[n];return"rgba(199, 199, 199, ".concat(e,")")}
//# sourceMappingURL=script.min.js.map
